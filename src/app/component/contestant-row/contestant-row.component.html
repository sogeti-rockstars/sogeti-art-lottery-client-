<div #complElement>
    <div *ngIf="rowData.inModal; then inModal; else notInModal"></div>
</div>

<ng-template #buttons>
    <button id="edit" mat-icon-button class="cont-button-hover-show" (click)="clickEventHandler(ClickElems.edit, $event)">
        <mat-icon aria-label="Redigera">edit</mat-icon>
    </button>
    <button id="remove" mat-icon-button class="cont-button-hover-show" (click)="clickEventHandler(ClickElems.remove, $event)">
        <mat-icon aria-label="Ta bort">delete</mat-icon>
    </button>
    <button id="expand" mat-icon-button class="cont-button" (click)="clickEventHandler(ClickElems.expand, $event)">
        <mat-icon aria-label="Mer info">open_in_full</mat-icon>
    </button>
</ng-template>

<ng-template #notInModal>
    <mat-list-item matLine checkboxPosition="before" class="contestant-row">
        <mat-pseudo-checkbox
            [state]="rowData.selected ? 'checked' : 'unchecked'"
            (click)="clickEventHandler(ClickElems.checkbox, $event)"
        ></mat-pseudo-checkbox>
        <mat-card class="list-card" (click)="clickEventHandler(ClickElems.body)">
            <div *ngIf="rowData.expanded; else colapsed">
                <ng-template [ngTemplateOutlet]="contentsExpanded"></ng-template>
            </div>
            <ng-template #colapsed>
                <ng-template [ngTemplateOutlet]="contentsCollapsed"></ng-template>
            </ng-template>
        </mat-card>
    </mat-list-item>
</ng-template>

<ng-template #inModal>
    <h1>MODAL VIEW:</h1>
    <span class="name" matLine>
        <button mat-icon-button aria-label="Mer info"><mat-icon>account_circle</mat-icon></button>
        <mat-label> {{ rowData.data.name }} </mat-label>
        <p>dbId: {{ rowData.data.id }}</p>
        <p>employeeId: {{ rowData.data.employeeId }}</p>
        <p>teleNumber: {{ rowData.data.teleNumber }}</p>
        <p>office: BACKEND WIP</p>
    </span>
</ng-template>

<ng-template #contentsCollapsed>
    <div #fullElement>
        <div class="collapsed-contestant-info-float">
            <div class="collapsed-contestant-info">
                <button mat-icon-button aria-label="Mer info"><mat-icon>account_circle</mat-icon></button>
            </div>
            <div #collapsedItems class="collapsed-contestant-info-items">
                <div class="collapsed-item" id="col-1">{{ rowData.data.name }}</div>
                <div class="collapsed-item" id="col-2">kontor: BACKENDWIP</div>
                <div class="collapsed-item" id="col-3">dbId: {{ rowData.data.id }}</div>
                <div class="collapsed-item" id="col-4">employeeId: {{ rowData.data.employeeId }}</div>
                <div class="collapsed-item" id="col-5">teleNumber: {{ rowData.data.teleNumber }}</div>
            </div>
            <div class="collapsed-contestant-buttons-cont">
                <div class="collapsed-contestant-buttons">
                    <ng-template [ngTemplateOutlet]="buttons"></ng-template>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #contentsExpanded>
    <span class="name" matLine>
        <button mat-icon-button aria-label="Mer info"><mat-icon>account_circle</mat-icon></button>
        <mat-label> {{ rowData.data.name }} </mat-label>
        <p>dbId: {{ rowData.data.id }}</p>
        <p>employeeId: {{ rowData.data.employeeId }}</p>
        <p>teleNumber: {{ rowData.data.teleNumber }}</p>
        <p>office: BACKEND WIP</p>
    </span>

    <span class="buttons">
        <ng-template [ngTemplateOutlet]="buttons"></ng-template>
    </span>
</ng-template>
